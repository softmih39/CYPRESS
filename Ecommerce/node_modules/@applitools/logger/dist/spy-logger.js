"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeSpyLogger = void 0;
const logger_1 = require("./logger");
function makeSpyLogger({ level } = {}) {
    const calls = [];
    const logger = (0, logger_1.makeLogger)({
        handler: {
            log(message) {
                calls.push({ level: 'info', message });
            },
            error(message) {
                calls.push({ level: 'error', message });
            },
            warn(message) {
                calls.push({ level: 'warn', message });
            },
            fatal(message) {
                calls.push({ level: 'fatal', message });
            },
        },
        level,
    });
    return {
        ...logger,
        calls,
        get isSpyLogger() {
            return true;
        },
    };
}
exports.makeSpyLogger = makeSpyLogger;
